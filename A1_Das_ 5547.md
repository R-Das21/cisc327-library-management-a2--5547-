Name: Rishit Das  
ID: 20285547  
Group: 1  



Project Implementation Status

| Function Name|Implementation Status| What is Missing|
| `add_book_to_catalog` (R1)     | Complete              | Fully implements input validation, duplicate check, and insertion. |

| Catalog Display (R2)           | Partial               | `get_all_books` in `database.py` retrieves data, but no function in `library_service.py` to format or render catalog as required by R2. |

| `borrow_book_by_patron` (R3)   | Partial               | Implements patron ID validation, availability check, borrow record insertion. Missing enforcement detail: should reject at exactly 5 books (current check is `> 5` not `>= 5`). |

| `return_book_by_patron` (R4)   | Not Implemented        | Stub exists with TODO. Missing logic: check patron borrow, update return date, increment available copies, calculate late fee. |

| `calculate_late_fee_for_book` (R5) | Not Implemented    | Placeholder only. Needs logic for overdue calculation with correct rates ($0.50/day first 7 days, $1/day afterwards, max $15) |

| `search_books_in_catalog` (R6) | Not Implemented        | Returns empty list. Missing partial title/author search, exact ISBN search, case-insensitivity|

| `get_patron_status_report` (R7)| Not Implemented        | Returns empty dict. Missing logic: list borrowed books with due dates, late fees, borrow count, history. |



 Summary:  
 R1 is fully implemented.  
 R2 is partially implemented.  
 R3 works but has a logic bug on borrow limit condition.  
 R4–R7 are not implemented.  
 
Unit Test Summary

 Test Files & Coverage
- tests/test_add_book.py (R1 Add Book to Catalog)  
  Positive: valid add.  
  Negative/edge: missing/too-long title, missing/too-long author, invalid ISBN length, negative copies, duplicate ISBN.
- tests/test_catalog_display.py (R2 Catalog Display)  
  Verifies catalog returns a list of dicts with required keys (`id`, `title`, `author`, `isbn`, `available_copies`, `total_copies`) and checks that (`available_copies <= total_copies`).  
- tests/test_borrow_book.py (R3 – Borrowing)  
  Positive: successful borrow path (mocks DB calls).  
  Negative/edge: invalid patron ID (non‑digit/wrong length), book not found, unavailable book, DB insert/update failures, limit exceeded (>5), and boundary at exactly 5 borrowed books.
- tests/test_return_book.py (R4 – Return Book)  
  Includes a current‑behavior test for unimplemented stub and expected future behavior (verify patron borrowed book, set return date, increment availability, prevent double return).
- tests/test_late_fee.py (R5 – Late Fee Calculation)  
  Current-structure test (dict + defaults) for on‑time returns, 1–7 day overdue at $0.50/day, >7 day escalation at $1/day after first 7, and $15 cap.
- tests/test_search_books.py (R6 – Search)  
  Shape test (returns list) and tests case‑insensitive partial title/author and exact ISBN matching; invalid type handling.
- tests/test_patron_status.py (R7 – Patron Status Report)  
  Current-structure test (empty dict) and tests currently borrowed with due dates, total late fees, borrow count, and history; invalid patron handling.

Notes
- Tests use `pytest-mock` via  `mocker` . If not already installed, add `pytest-mock` to your dependencies.
